Version 4
SHEET 1 4584 1024
WIRE 896 -768 128 -768
WIRE 1040 -768 1024 -768
WIRE 1104 -768 1040 -768
WIRE 1264 -768 1168 -768
WIRE 1360 -768 1328 -768
WIRE 1440 -768 1360 -768
WIRE 1600 -768 1504 -768
WIRE 1712 -768 1664 -768
WIRE 1904 -768 1824 -768
WIRE 1984 -768 1904 -768
WIRE -336 -704 -352 -704
WIRE -176 -704 -336 -704
WIRE 320 -704 -176 -704
WIRE 1360 -672 1360 -768
WIRE 1376 -672 1360 -672
WIRE 1536 -672 1440 -672
WIRE 1632 -672 1632 -736
WIRE 1632 -672 1600 -672
WIRE 320 -656 320 -704
WIRE 128 -608 128 -768
WIRE 160 -608 128 -608
WIRE 704 -608 480 -608
WIRE 896 -608 896 -768
WIRE 896 -608 784 -608
WIRE 1136 -608 1136 -736
WIRE 1136 -560 1136 -608
WIRE 896 -528 896 -608
WIRE -176 -512 -176 -704
WIRE 160 -512 -176 -512
WIRE 560 -512 480 -512
WIRE 720 -512 640 -512
WIRE 752 -512 720 -512
WIRE -176 -448 -176 -512
WIRE -288 -432 -320 -432
WIRE -208 -432 -288 -432
WIRE 16 -416 -144 -416
WIRE 160 -416 16 -416
WIRE 560 -416 480 -416
WIRE 1056 -416 1040 -416
WIRE 1152 -416 1056 -416
WIRE 1280 -416 1216 -416
WIRE 1408 -416 1344 -416
WIRE 1648 -416 1520 -416
WIRE 1824 -416 1744 -416
WIRE 1840 -416 1824 -416
WIRE -464 -400 -480 -400
WIRE -208 -400 -464 -400
WIRE 16 -368 16 -416
WIRE 1184 -304 1184 -384
WIRE 1312 -288 1312 -384
WIRE 1184 -272 1184 -304
WIRE 1312 -272 1312 -288
WIRE -176 -256 -176 -384
WIRE -96 -256 -176 -256
WIRE 16 -256 16 -288
WIRE 16 -256 -16 -256
WIRE 128 -256 16 -256
WIRE 144 -256 128 -256
WIRE 320 -240 320 -368
WIRE 560 -240 560 -416
WIRE 560 -240 320 -240
WIRE 896 -240 896 -448
WIRE 896 -240 560 -240
WIRE -176 -208 -176 -256
WIRE 320 -192 320 -240
WIRE 176 -96 64 -96
WIRE 368 -96 240 -96
WIRE 544 -96 432 -96
WIRE 592 -96 544 -96
WIRE -544 16 -704 16
WIRE -336 16 -544 16
WIRE -256 16 -336 16
WIRE -160 16 -256 16
WIRE 64 16 64 -96
WIRE 64 16 -160 16
WIRE 96 16 64 16
WIRE 208 16 208 -64
WIRE 208 16 176 16
WIRE 240 16 208 16
WIRE 448 16 320 16
WIRE 608 16 448 16
WIRE 800 16 672 16
WIRE 1072 16 800 16
WIRE 1232 16 1072 16
WIRE 1248 16 1232 16
WIRE -704 32 -704 16
WIRE -544 32 -544 16
WIRE -160 80 -160 16
WIRE 1072 96 1072 16
WIRE 1520 96 1520 80
WIRE -704 112 -704 96
WIRE -704 112 -992 112
WIRE 448 112 448 16
WIRE -992 144 -992 112
WIRE 800 144 800 16
WIRE 1520 144 1520 96
WIRE 1856 144 1520 144
WIRE -336 176 -336 16
WIRE 1520 176 1520 144
WIRE 1856 176 1856 144
WIRE -160 192 -160 160
WIRE 48 192 -160 192
WIRE 80 192 48 192
WIRE 208 192 160 192
WIRE 400 192 208 192
WIRE -160 224 -160 192
WIRE 1072 224 1072 176
WIRE 1232 224 1072 224
WIRE 1248 224 1232 224
WIRE -992 240 -992 224
WIRE -544 240 -544 96
WIRE -544 240 -992 240
WIRE 1072 256 1072 224
WIRE -704 272 -704 112
WIRE -544 272 -544 240
WIRE 1696 272 1616 272
WIRE 1728 272 1696 272
WIRE 2048 272 1952 272
WIRE 2080 272 2048 272
WIRE -704 400 -704 336
WIRE -544 400 -544 336
WIRE -544 400 -704 400
WIRE -336 400 -336 240
WIRE -336 400 -544 400
WIRE -160 400 -160 304
WIRE -160 400 -336 400
WIRE 448 400 448 208
WIRE 448 400 -160 400
WIRE 800 400 800 208
WIRE 800 400 448 400
WIRE 1072 400 1072 336
WIRE 1072 400 800 400
WIRE 1520 400 1520 368
WIRE 1856 400 1856 368
WIRE 1856 400 1520 400
WIRE 1520 432 1520 400
WIRE -336 496 -336 400
FLAG 1232 16 Vout
FLAG 448 16 Vin
FLAG 208 192 PWMdrive
FLAG 720 -512 PWMdrive
FLAG -336 496 0
FLAG -336 -704 DC10v
FLAG 1904 -768 Control
FLAG 1232 224 Vcontrol
FLAG 1136 -608 Vcontrol
FLAG -176 -208 0
FLAG 128 -256 Feedback
FLAG -288 -432 Feedback
FLAG 320 -192 0
FLAG 48 192 ACRef
FLAG 1184 -304 Control
FLAG 1056 -416 ACRef
FLAG 1312 -288 IndCurrent
FLAG 544 -96 IndCurrent
FLAG -256 16 RectACIn
FLAG 1824 -416 PWMin
FLAG -464 -400 PWMin
FLAG 1520 432 0
FLAG 1520 96 RectACIn
FLAG 1696 272 DC10V
FLAG 2048 272 DC5V
FLAG 1040 -768 DC5V
SYMBOL ind2 224 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 3.135m
SYMATTR SpiceLine Rser=0.0033
SYMATTR Type ind
SYMBOL diode 608 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value RFUS20TF6S
SYMBOL cap 784 144 R0
SYMATTR InstName C3
SYMATTR Value 1.3m
SYMBOL PowerProducts\\LTC4441-1 320 -512 R0
SYMATTR InstName U3
SYMBOL res 800 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 300k
SYMBOL res 912 -432 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 45k
SYMBOL res 656 -528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL nmos 400 112 R0
SYMATTR InstName M1
SYMATTR Value R6015KNJ
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub 1120 -736 R0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 1280 -736 R0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add 1616 -736 R0
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 1456 -736 R0
SYMATTR Value K=0.000152
SYMATTR InstName U6
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit 1728 -736 R0
SYMATTR Value y=-28m z=28m
SYMATTR InstName U7
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 1392 -640 R0
SYMATTR Value K=0.85533
SYMATTR InstName U8
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral 1552 -640 R0
SYMATTR InstName U9
SYMBOL res 1056 80 R0
SYMATTR InstName R5
SYMATTR Value 243.91
SYMBOL res 1056 240 R0
SYMATTR InstName R6
SYMATTR Value 3.09
SYMBOL OpAmps\\LT1805 -176 -416 R0
SYMATTR InstName U10
SYMBOL res 0 -384 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 0 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 500
SYMBOL voltage -992 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 230 50)
SYMBOL diode -688 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value RFUS20TF6S
SYMBOL diode -528 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value RFUS20TF6S
SYMBOL diode -688 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value RFUS20TF6S
SYMBOL diode -528 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value RFUS20TF6S
SYMBOL res -176 64 R0
SYMATTR InstName R12
SYMATTR Value 2290
SYMBOL res -176 208 R0
SYMATTR InstName R13
SYMATTR Value 10
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul 1168 -384 R0
SYMATTR InstName U11
SYMBOL res 192 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub 192 -64 R0
SYMATTR InstName U12
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 384 -64 R0
SYMATTR Value K=1/441
SYMATTR InstName U13
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub 1296 -384 R0
SYMATTR InstName U14
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit 1424 -384 R0
SYMATTR Value y=-28m z=28m
SYMATTR InstName U15
SYMBOL LTspiceControlLibrary\\PulseModulations\\PWM 1664 -384 R0
SYMATTR Value Vin1=-30m Vin2=30m Tperiod=10u
SYMATTR InstName U16
SYMBOL References\\LT1236-10 1520 272 R0
SYMATTR InstName U1
SYMBOL References\\LT1236-5 1856 272 R0
SYMATTR InstName U17
SYMBOL cap -352 176 R0
SYMATTR InstName C1
SYMATTR Value 0.47µ
TEXT -192 488 Left 2 !.tran 0 .3 0
TEXT -192 536 Left 2 !.meas voutmax max v(vout)
TEXT -192 560 Left 2 !.meas voutavg avg v(vout) FROM 0.015 TO 0.02
TEXT -192 584 Left 2 !.meas ic_avg avg I(C1) FROM 0.015 TO 0.02
TEXT -192 608 Left 2 !.meas iRload_avg avg I(RLoad) FROM 0.015 TO 0.02
TEXT -192 632 Left 2 !.meas iL_avg avg I(L1) FROM 0.015 TO 0.02
TEXT 464 528 Left 2 !.meas settle find V(Vout) when abs(v(Vout)- voutavg)/voutavg=0.05 fall=last
TEXT 464 552 Left 2 !.meas rise time TRIG V(Vout)=(V(DCin)+0.1*(voutavg- V(DCin))) TD=0.2u RISE=1 TARG V(Vout)=(V(DCin)+0.9*(voutavg- V(DCin))) TD=0.2u RISE=1
TEXT 464 576 Left 2 !.meas efficiency avg -V(Vout)*I(Rload)/V(DCin)/I(DCin) FROM 0.015 TO 0.02
TEXT -992 -728 Left 2 !.MODEL R6015KNJ NMOS\n+ LEVEL=3\n+ L=2.0000E-6\n+ W=1\n+ KP=29.715E-6\n+ RS=15.800E-3\n+ RD=0\n+ VTO=4.4948\n+ RDS=6.0000E6\n+ TOX=2.0000E-6\n+ CGSO=1000p\n+ CGDO=1.5p\n+ CBD=0\n+ RG=0\n+ N=2\n+ RB=1.0000E-3\n+ GAMMA=2.7\n+ ETA=0.00005\n+ KAPPA=0\n+ NFS=22G
